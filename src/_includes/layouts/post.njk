{% extends "layouts/base.njk" %}

{% block head %}
  <meta property="og:type" content="article">
  <meta property="article:published_time" content="{{date | htmlDateString}}">
  <meta property="og:image" content="{{site.url}}{{featured_image}}">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:image:alt" content="{{featured_image_alt}}">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="{{site.authorTwitter}}">
  <meta name="twitter:creator" content="{{site.authorTwitter}}">
{% endblock %}

{% block content %}

  <div class="w-full max-w-3xl px-6 mx-auto md:px-0">
    <h1 class="mt-6 text-2xl font-bold leading-6 md:leading-normal md:text-4xl">{{ title }}</h1>
    {%- set slug = page.fileSlug -%}
    {%- set translations = translationMap[slug] -%}
    {%- set hasTranslation = translations and translations.en and translations.es -%}
    {% if hasTranslation %}
    <div class="mt-2">
      <div class="inline-flex space-x-2">
        {% for l in locales -%}
          {% if locale == l.code %}
            {% set classNames = "text-lime-800 underline hover:bg-gray-100 font-bold font-sans" %}
          {% else %}
            {% set classNames = "text-lime-600 hover:text-lime-800 hover:underline font-sans" %}
          {% endif %}
          <a class="{{classNames}}" href="/{{ l.code }}/{{ pageUrl }}" rel="alternate" hreflang="{{ l.code }}">
            {{ l.label | capitalize }}
          </a>
        {% endfor -%}
      </div>
    </div>
    {% endif %}
    <div class="mt-12">
      <img class="object-cover object-center w-full h-96" src="{{ featured_image }}" alt="{{ featured_image_alt }}">
      <p class="mt-1 text-sm text-center text-gray-600 font-sans">
        {{ image_caption | safe }}
      </p>
    </div>
    <div class="mt-12 mb-8 content">
      {{ content | safe }}
    </div>
  </div>

{% endblock %}
